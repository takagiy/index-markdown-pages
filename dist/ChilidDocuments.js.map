{"version":3,"sources":["../src/ChilidDocuments.ts"],"sourcesContent":["import { dirname, relative } from \"node:path\";\nimport { globby } from \"globby\";\n\nexport class ChildDocuments {\n  protected constructor(\n    public readonly rootDocument: string,\n    public readonly rootDirectory: string,\n    public readonly childDocuments: string[],\n  ) {}\n\n  static async search(rootDocument: string) {\n    const rootDirectory = dirname(rootDocument);\n    const childDocuments = await globby(`${rootDirectory}/**/*.md`).then(\n      (entries) =>\n        entries\n          .filter((entry) => entry !== rootDocument)\n          .map((entry) => relative(rootDirectory, entry)),\n    );\n    return new ChildDocuments(rootDocument, rootDirectory, childDocuments);\n  }\n\n  toIndexBlock(header: string) {\n    return header.concat(\"\\n\\n\").concat(\n      this.childDocuments\n        .toSorted()\n        .map((childDocument) => `- [${childDocument}](${childDocument})\\n`)\n        .join(\"\"),\n    );\n  }\n}\n"],"names":["ChildDocuments","rootDocument","rootDirectory","childDocuments","search","dirname","globby","then","entries","filter","entry","map","relative","toIndexBlock","header","concat","toSorted","childDocument","join"],"mappings":";;;;+BAGaA;;;eAAAA;;;0BAHqB;wBACX;AAEhB,MAAMA;;;;IACX,YACE,AAAgBC,YAAoB,EACpC,AAAgBC,aAAqB,EACrC,AAAgBC,cAAwB,CACxC;aAHgBF,eAAAA;aACAC,gBAAAA;aACAC,iBAAAA;IACf;IAEH,aAAaC,OAAOH,YAAoB,EAAE;QACxC,MAAMC,gBAAgBG,IAAAA,iBAAO,EAACJ;QAC9B,MAAME,iBAAiB,MAAMG,IAAAA,cAAM,EAAC,GAAGJ,cAAc,QAAQ,CAAC,EAAEK,IAAI,CAClE,CAACC,UACCA,QACGC,MAAM,CAAC,CAACC,QAAUA,UAAUT,cAC5BU,GAAG,CAAC,CAACD,QAAUE,IAAAA,kBAAQ,EAACV,eAAeQ;QAE9C,OAAO,IAAIV,eAAeC,cAAcC,eAAeC;IACzD;IAEAU,aAAaC,MAAc,EAAE;QAC3B,OAAOA,OAAOC,MAAM,CAAC,QAAQA,MAAM,CACjC,IAAI,CAACZ,cAAc,CAChBa,QAAQ,GACRL,GAAG,CAAC,CAACM,gBAAkB,CAAC,GAAG,EAAEA,cAAc,EAAE,EAAEA,cAAc,GAAG,CAAC,EACjEC,IAAI,CAAC;IAEZ;AACF"}